(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(59),i=a(35),o=a(72),s=a(38),l=a(14),u=(a(96),a(51)),p=a(45),m=a(16),d="GET_MOVIES_REQUEST",h="GET_MOVIES_SUCCESS",v="GET_MOVIES_ERROR",b="SEARCH_MOVIES_REQUEST",O="SEARCH_MOVIES_SUCCESS",E=a(66),f=a.n(E),j={all:[],page:1,isFetched:!1,searchText:"",searchItems:[]},y="LOAD_DETAIL_REQUEST",g="LOAD_DETAIL_SUCCESS",S="GET_TRAILER_REQUEST",_="GET_TRAILER_SUCCESS",x="GET_REC_REQUEST",M="GET_REC_SUCCESS",k="GET_CAST_REQUEST",w="GET_CAST_SUCCESS",F={detail:{data:{},isFetched:!1},trailer:{data:[],isFetched:!1},rec:{data:[],isFetched:!1},cast:{data:[],isFetched:!1}},T=Object(l.c)({router:p.b,movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(m.a)({},e,{all:[],isFetched:!1});case h:return Object(m.a)({},e,{all:f.a.uniqBy([].concat(Object(s.a)(e.all),Object(s.a)(t.payload)),"id"),isFetched:!0});case b:return Object(m.a)({},e,{searchItems:[],search_text:t.search_text,isFetched:!1});case O:return Object(m.a)({},e,{searchItems:t.payload,isFetched:!0});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(m.a)({},e,{detail:{data:t.payload,isFetched:!0}});case S:return Object(m.a)({},e,{trailer:Object(m.a)({},e.trailer,{isFetched:!1})});case _:return Object(m.a)({},e,{trailer:{data:t.payload,isFetched:!0}});case x:return Object(m.a)({},e,{rec:Object(m.a)({},e.rec,{isFetched:!1})});case M:return Object(m.a)({},e,{rec:{data:t.payload.results,isFetched:!0}});case k:return Object(m.a)({},e,{cast:Object(m.a)({},e.cast,{isFetched:!1})});case w:return Object(m.a)({},e,{cast:{data:t.payload.cast,isFetched:!0}});default:return e}}}),C=function(){var e=Object(u.b)(),t=[Object(l.a)(e)];var a=Object(l.e)(T,l.d.apply(void 0,Object(s.a)(t)));return a.runSaga=e.run,a.close=function(){return a.dispatch(u.a)},a},I=a(50),R={fallbackLng:"ru",ns:["main"],defaultNS:"main",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0},resources:{en:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"TribunaUZ"}},ru:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437"}},uz:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437"}},oz:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"TribunaUZ"}}}},A=a(5),U=a(6),q=a(8),D=a(7),G=a(9),N=a(123),L=a(69),P=a(44),V=function(e){return{type:d,page:e}},Q=function(e){return{type:b,query:e}},z=a(32),B=a(121),H={API_ROOT:{movie:"https://api.itv.uz"},API_KEY:{movie:"f0ef35cb4c8c017e6f54517cf50b7079"},API_LANGUAGES:[{id:1,title:"\u040e\u0437\u0431\u0435\u043a\u0447\u0430",code:"uz"}]},J=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items;e.isFetched;return r.a.createElement("div",null,t&&t.map(function(e){return r.a.createElement("div",{className:"movie"},r.a.createElement(B.a,{to:"/movie/".concat(e.id),className:"movie-poster"},r.a.createElement("div",null,r.a.createElement("img",{src:"".concat(H.API_IMAGE.small,"/").concat(e.files.poster_url),alt:""}),r.a.createElement("p",{className:"movie-rating"},e.year))),r.a.createElement("div",{className:"movie-info"},r.a.createElement(B.a,{to:"/movie/".concat(e.id),className:"movie-name"},e.title),e.genres_str.split(", ").map(function(e){return r.a.createElement("a",{href:"#",className:"genre"},e)})))}))}}]),t}(n.Component),K=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props.load;return r.a.createElement("div",{className:"button-holder"},r.a.createElement("button",{onClick:e},"LOAD MORE"))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(q.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).loadMore=function(){var e=a.props,t=e.page;(0,e.getTopMovies)(t+1)},a}return Object(G.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getTopMovies)()}},{key:"render",value:function(){var e=this.props,t=e.movies,a=e.isFetched;return r.a.createElement("div",null,r.a.createElement(J,{items:t,isFetched:a}),r.a.createElement(K,{load:this.loadMore}))}}]),t}(n.Component);W.path="/";var Y=Object(z.a)(function(e){return{movies:e.movies.all,page:e.movies.page,isFetched:e.movies.isFetched}},function(e){return Object(l.b)({getTopMovies:V},e)})(W),Z=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"ERROR 404: PAGE NOT FOUND!"))}}]),t}(n.Component),X=function(e){return{type:y,payload:{id:e}}},$=function(e){return{type:S,payload:{id:e}}},ee=function(e){return{type:x,payload:{id:e}}},te=function(e){return{type:k,payload:{id:e}}},ae=a(67),ne=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data;return e.isFetched?r.a.createElement("div",null,t.results.length>0&&r.a.createElement("iframe",{width:"894",height:"503",src:"https://www.youtube.com/embed/".concat(t.results.shift().key),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0})):r.a.createElement("div",null,"Loading...")}}]),t}(r.a.Component),re=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.isFetched;return r.a.createElement(J,{items:t,isFetched:a})}}]),t}(n.Component),ce=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.getMovieDetail,n=e.getMovieTrailer,r=e.getMovieRec,c=e.getMovieCast;a(t.params.id),n(t.params.id),r(t.params.id),c(t.params.id)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.match,n=t.getMovieDetail,r=t.getMovieRec;e.match.params.id&&a.params.id!==e.match.params.id&&(n(e.match.params.id),r(e.match.params.id))}},{key:"render",value:function(){var e=this.props,t=e.detail,a=t.data,n=(t.isFetched,e.trailer),c=e.rec,i=e.genres,o=e.cast.data.slice(0,5);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"".concat(H.API_IMAGE.small,"/").concat(a.poster_path),alt:""}),r.a.createElement("h4",null,"IMDB ID:",a.imdb_id),r.a.createElement("h4",null,"Original title:",a.original_language),r.a.createElement("h4",null,a.tagline)),r.a.createElement("div",null,r.a.createElement("h2",null,a.title),r.a.createElement("div",null,a.genres&&a.genres.map(function(e){return r.a.createElement("a",{href:"#"},e.name)})),r.a.createElement("p",null,a.overview),r.a.createElement("h4",null,"Trailer:"),r.a.createElement(ne,{data:n.data,isFetched:n.isFetched}),r.a.createElement("h2",null,"Cast:"),r.a.createElement("div",null,o&&o.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185/".concat(e.profile_path),alt:""}),r.a.createElement("h4",null,e.name),r.a.createElement("span",null,e.character))})))),r.a.createElement(re,{items:c.data,genres:i,isFetched:c.isFetched})))}}]),t}(n.Component);ce.path="/movie/:id";var ie=Object(ae.a)(Object(z.a)(function(e){return{detail:e.movie.detail,trailer:e.movie.trailer,rec:e.movie.rec,cast:e.movie.cast}},function(e){return Object(l.b)({getMovieDetail:X,getMovieTrailer:$,getMovieRec:ee,getMovieCast:te},e)})(ce)),oe=a(122),se=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.loadMovieSearch)(t.params.query)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.match,n=t.loadMovieSearch;e.match.params.query!==a.params.query&&n(e.match.params.query)}},{key:"render",value:function(){var e=this.props,t=e.searchItems;return e.isFetched?r.a.createElement("div",null,t&&t.length>0&&r.a.createElement(J,{items:t})):r.a.createElement("div",null,"Loading...")}}]),t}(r.a.Component);se.path="/search/:query";var le=Object(oe.a)(Object(i.b)(function(e){return{searchItems:e.movies.searchItems,isFetched:e.movies.isFetched}},function(e){return Object(l.b)({loadMovieSearch:Q},e)})(se)),ue=(a(99),a(70)),pe=a.n(ue),me=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(q.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).handleInputSearch=function(e){var t=a.props.history,n=e.target.value;n.length>0?t.push("/search/".concat(n)):t.push("/")},a}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props.search_text;return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("img",{src:pe.a,alt:"",className:"logo"})),r.a.createElement("li",null,r.a.createElement(B.a,{to:""},"Movies")),r.a.createElement("li",null,r.a.createElement(B.a,{to:""},"TV Seasons")),r.a.createElement("li",null,r.a.createElement(B.a,{to:""},"TV Episodes")),r.a.createElement("li",null,r.a.createElement(B.a,{to:""},"People"))),r.a.createElement("div",{className:"search-bar"},r.a.createElement("input",{type:"text",placeholder:"Search",onInput:this.handleInputSearch,value:e}),r.a.createElement("button",{type:"submit"})))}}]),t}(n.Component),de=Object(oe.a)(Object(i.b)(function(e){return{search_text:e.movies.search_text,isFetched:e.movies.isFetched}},function(e){return Object(l.b)({loadMovieSearch:Q},e)})(me)),he=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(de,null),this.props.children)}}]),t}(n.Component),ve=Object(P.a)(),be=function(e){function t(){return Object(A.a)(this,t),Object(q.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{history:ve},r.a.createElement(he,null,r.a.createElement(N.a,null,r.a.createElement(L.a,{exact:!0,path:Y.path,component:Y}),r.a.createElement(L.a,{exact:!0,path:ie.path,component:ie}),r.a.createElement(L.a,{exact:!0,path:le.path,component:le}),r.a.createElement(L.a,{component:Z}))))}}]),t}(n.Component),Oe=a(10),Ee=a.n(Oe),fe=a(4),je=a(71),ye={requestMovie:a.n(je).a.create({baseURL:H.API_ROOT.movie,params:{user:H.API_KEY.movie}})},ge=Ee.a.mark(xe),Se=Ee.a.mark(Me),_e=Ee.a.mark(ke);function xe(){var e,t;return Ee.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(fe.b)(ye.requestMovie.get,"/api/content/main/2/list");case 3:return e=a.sent,t=e.data,a.next=7,Object(fe.d)({type:h,payload:t.movies});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(fe.d)({type:v,payload:a.t0});case 13:case"end":return a.stop()}},ge,null,[[0,9]])}function Me(e){var t,a;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(ye.requestMovie.get,"/search/movie?query=".concat(e.query));case 3:return t=n.sent,a=t.data,n.next=7,Object(fe.d)({type:O,payload:a.results});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},Se,null,[[0,9]])}function ke(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(fe.e)(d,xe),Object(fe.e)(b,Me)];case 2:case"end":return e.stop()}},_e)}var we=Ee.a.mark(Re),Fe=Ee.a.mark(Ae),Te=Ee.a.mark(Ue),Ce=Ee.a.mark(qe),Ie=Ee.a.mark(De);function Re(e){var t,a;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(ye.requestMovie.get,"/movie/".concat(e.payload.id));case 3:return t=n.sent,a=t.data,n.next=7,Object(fe.d)({type:g,payload:a});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},we,null,[[0,9]])}function Ae(e){var t,a;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(ye.requestMovie.get,"/movie/".concat(e.payload.id,"/videos"));case 3:return t=n.sent,a=t.data,n.next=7,Object(fe.d)({type:_,payload:a});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},Fe,null,[[0,9]])}function Ue(e){var t,a;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(ye.requestMovie.get,"/movie/".concat(e.payload.id,"/recommendations"));case 3:return t=n.sent,a=t.data,n.next=7,Object(fe.d)({type:M,payload:a});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},Te,null,[[0,9]])}function qe(e){var t,a;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(ye.requestMovie.get,"/movie/".concat(e.payload.id,"/credits"));case 3:return t=n.sent,a=t.data,n.next=7,Object(fe.d)({type:w,payload:a});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},Ce,null,[[0,9]])}function De(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(fe.e)(y,Re),Object(fe.e)(S,Ae),Object(fe.e)(x,Ue),Object(fe.e)(k,qe)];case 2:case"end":return e.stop()}},Ie)}var Ge=Ee.a.mark(Ne);function Ne(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.a)([Object(fe.c)(ke),Object(fe.c)(De)]);case 2:case"end":return e.stop()}},Ge)}var Le=C();Le.runSaga(Ne),Object(c.render)(r.a.createElement(i.a,{store:Le},r.a.createElement(o.a,{i18n:(I.a.init(R),I.a)},r.a.createElement(be,null))),document.getElementById("root"))},70:function(e,t,a){e.exports=a.p+"static/media/logo.e26de434.svg"},73:function(e,t,a){e.exports=a(120)},99:function(e,t,a){}},[[73,1,2]]]);