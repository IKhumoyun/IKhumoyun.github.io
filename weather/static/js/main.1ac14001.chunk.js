(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(51),i=a(35),s=a(59),u=a(60),o=a(22),l=(a(84),a(42)),h=a(36),m=a(37),p="GET_WEATHER_SUCCESS",d="GET_WEATHER_REQUEST",f="FUTURE_WEATHER_REQUEST",b="FUTURE_WEATHER_SUCCESS",E=a(34),v=a.n(E),O={weather:{},future:[],isFetched:!1},y=Object(o.c)({router:h.b,weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(m.a)({},e,{weather:t.payload,isFetched:!0});case f:return Object(m.a)({},e,{future:[],isFetched:!1});case b:return Object(m.a)({},e,{future:t.payload.list.filter(function(e){if("11:00"===v.a.unix(e.dt).format("HH:mm"))return e}),isFetched:!0});default:return e}}}),j=function(){var e=Object(l.b)(),t=[Object(o.a)(e)];var a=Object(o.e)(y,o.d.apply(void 0,Object(u.a)(t)));return a.runSaga=e.run,a.close=function(){return a.dispatch(l.a)},a},w=a(41),g={fallbackLng:"ru",ns:["main"],defaultNS:"main",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0},resources:{en:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"TribunaUZ"}},ru:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437"}},uz:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437"}},oz:{main:{"\u0422\u0440\u0438\u0431\u0443\u043d\u0430.\u0443\u0437":"TribunaUZ"}}}},C=a(17),k=a(18),T=a(20),I=a(19),x=a(21),F=a(110),N=a(111),R=a(58),S=function(e){return{type:d,cityId:e}},A=function(e){return{type:f,cityId:e}},_=a(33),P=a.n(_),U={API_ROOT:"https://api.openweathermap.org/data/2.5",API_KEY:"5ec646c90ce3554cf8cfb59c954c2849",API_TYPE:{STANDARD:"",METRIC:"metric",IMPERIAL:"imperial"}};P.a.defaults.params={},P.a.defaults.params.APPID=U.API_KEY,P.a.defaults.params.units=U.API_TYPE.METRIC;var W={request:P.a.create({baseURL:U.API_ROOT})},H=function(e){switch(!0){case e>=200&&e<=232:return"storming";case e>=300&&e<=321:return"drizzling";case e>=500&&e<=531:return"raining";case e>=600&&e<=622:return"snowing";case e>=700&&e<=781:return"windy";case 800===e:return"clear";case e>800&&e<=804:return"cloudy";default:return"error"}},D=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cities,a=e.activeCity,n=e.changeCity;return r.a.createElement("div",{className:"top-menu"},t&&t.map(function(e){return r.a.createElement("a",{href:"#",className:a===e.id?"active":"",key:e.id,onClick:function(){return n(e.id)}},e.title)}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(T.a)(this,Object(I.a)(t).call(this))).cityChangeHandler=function(e){a.setState({activeCity:e})},a.state={activeCity:1512569},a}return Object(x.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getInitialWeather,a=e.getFutureWeather;t(this.state.activeCity),a(this.state.activeCity)}},{key:"componentDidUpdate",value:function(e,t){if(t.activeCity!==this.state.activeCity){var a=this.props,n=a.getInitialWeather,r=a.getFutureWeather;n(this.state.activeCity),r(this.state.activeCity)}}},{key:"render",value:function(){var e=this.props,t=e.weather,a=e.isFetched,c=e.future;return a?r.a.createElement(n.Fragment,null,r.a.createElement(D,{cities:[{title:"Tashkent",id:1512569},{title:"London",id:2643743},{title:"New York",id:5128581},{title:"Tokyo",id:1850147},{title:"Moscow",id:524901},{title:"Paris",id:2988507},{title:"Hong Kong",id:1819729}],activeCity:this.state.activeCity,changeCity:this.cityChangeHandler}),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"weather-left"},r.a.createElement("div",{className:"weather-logo weather-logo-".concat(H(t.weather[0].id))}),r.a.createElement("h1",{className:"temperature"},r.a.createElement("span",null,t.main.temp.toFixed(0))," \xb0 C"),r.a.createElement("div",{className:"forecast-block"},c&&c.map(function(e){return r.a.createElement("div",{className:"forecast-item"},r.a.createElement("div",{className:"item-logo weather-logo-".concat(H(e.weather[0].id))}),r.a.createElement("h5",null,v.a.unix(e.dt).format("DD/MM")),r.a.createElement("h6",null,e.main.temp.toFixed(0)," \xb0 C"),r.a.createElement("h5",null,e.weather[0].main))}))),r.a.createElement("div",{className:"weather-right"},r.a.createElement("h1",{className:"weather-title"},"It is fucking ",r.a.createElement("span",{className:"weather-status"},H(t.weather[0].id))," now in ",r.a.createElement("span",{className:"weather-place"},t.name))))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component);M.path="/";var L=Object(i.b)(function(e){return{weather:e.weather.weather,future:e.weather.future,isFetched:e.weather.isFetched}},function(e){return Object(o.b)({getInitialWeather:S,getFutureWeather:A},e)})(M),Y=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"ErrorPage")}}]),t}(n.Component),z=(a(105),function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.props.children)}}]),t}(n.Component)),q=Object(R.a)(),K=function(e){function t(){return Object(C.a)(this,t),Object(T.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{history:q},r.a.createElement(z,null,r.a.createElement(F.a,null,r.a.createElement(N.a,{exact:!0,path:L.path,component:L}),r.a.createElement(N.a,{component:Y}))))}}]),t}(n.Component),G=a(23),J=a.n(G),Q=a(15),Z=J.a.mark(X),B=J.a.mark($),V=J.a.mark(ee);function X(e){var t,a;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Q.b)(W.request.get,"/weather/?id=".concat(e.cityId));case 3:return t=n.sent,a=t.data,n.next=7,Object(Q.d)({type:p,payload:a});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}},Z,this,[[0,9]])}function $(e){var t,a;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Q.b)(W.request.get,"/forecast/?id=".concat(e.cityId));case 3:return t=n.sent,a=t.data,n.next=7,Object(Q.d)({type:b,payload:a});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}},B,this,[[0,9]])}function ee(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(Q.e)(d,X),Object(Q.e)(f,$)];case 2:case"end":return e.stop()}},V,this)}var te=J.a.mark(ae);function ae(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([Object(Q.c)(ee)]);case 2:case"end":return e.stop()}},te,this)}var ne=j();ne.runSaga(ae),Object(c.render)(r.a.createElement(i.a,{store:ne},r.a.createElement(s.a,{i18n:(w.a.init(g),w.a)},r.a.createElement(K,null))),document.getElementById("root"))},61:function(e,t,a){e.exports=a(109)}},[[61,2,1]]]);